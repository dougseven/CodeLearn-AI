{
    "lesson": "# List Comprehensions and Generator Expressions\n\n## Introduction\nList comprehensions and generator expressions are powerful Python features for creating sequences. They provide a concise way to create lists and iterables, similar to LINQ in C#.\n\n## Concept Overview\nList comprehensions create new lists by applying an expression to each item in an iterable. Generator expressions are memory-efficient alternatives that create iterator objects.\n\n## Syntax\n```python\n# List comprehension\nnumbers = [1, 2, 3, 4, 5]\nsquares = [x**2 for x in numbers if x % 2 == 0]  # [4, 16]\n\n# Generator expression\ngen_squares = (x**2 for x in numbers if x % 2 == 0)\n```\n\n```python\n# Nested comprehension\nmatrix = [[1, 2], [3, 4]]\nflattened = [num for row in matrix for num in row]  # [1, 2, 3, 4]\n```\n\n## Key Points\n- List comprehensions create lists immediately in memory\n- Generator expressions are lazy and memory-efficient\n- C# equivalent: LINQ's Select() and Where() methods\n- Comprehensions can include conditions and nested loops\n- Generator expressions use () instead of []\n\n## Common Mistakes\n- Overcomplicating comprehensions with too many nested loops\n- Using comprehensions when a simple for loop would be clearer\n- Forgetting that generator expressions can only be iterated once\n\n## Practice\nTry these exercises:\n```python\n# Create a list of tuples containing (number, square) for even numbers 1-10\n# Hint: [(2, 4), (4, 16), ...]\n\n# Generate prime numbers up to n using a generator expression\n# Hint: Use a helper function is_prime()\n```",
    "challenge": "def process_data(data, threshold):\n    \"\"\"Create a generator that yields processed items from data.\n    \n    Requirements:\n    1. Filter items greater than threshold\n    2. Transform remaining items by multiplying by 2\n    3. Skip None values\n    \n    Args:\n        data: Iterable of numbers (can contain None)\n        threshold: Number to filter against\n    \n    Returns:\n        Generator yielding processed items\n    \"\"\"\n    pass",
    "tests": [
        "def test_basic_processing():\n    data = [1, 2, 3, 4, 5]\n    result = list(process_data(data, 3))\n    assert result == [8, 10]",
        "def test_with_none_values():\n    data = [None, 1, None, 4, None]\n    result = list(process_data(data, 2))\n    assert result == [8]",
        "def test_empty_input():\n    data = []\n    result = list(process_data(data, 10))\n    assert result == []"
    ]
}